(()=>{"use strict";function t(t){const e=t%60;return`${(~~(t/60)).pad(2)} : ${e.pad(2)}`}function e(t){const e=t.split(" : ");return 60*e[0]+Number(e[1])}function n(n){const o=document.querySelectorAll(n);if(!o.length)return"00 : 00";let l=0;return o.forEach((t=>{l+=e(t.textContent)})),t(Math.trunc(l/o.length))}const o="#1652f0",l="rgb(252,10,79)",c=new Audio("1.mp3"),d=new Audio("2.mp3"),i=new Audio("3.mp3"),r=new Audio("4.mp3");document.documentElement.style.setProperty("--COLOR1",o),document.documentElement.style.setProperty("--COLOR2",l);const s=document.getElementById("btn-main");s.addEventListener("click",(function(){if(s.textContent.includes(":")){clearInterval(B);let t,e=o;"Side 1"===u.textContent?(e="log1",u.textContent="Side 2",s.style.backgroundColor=l,u.style.color=l,t=m,++S,C.textContent=`Total: ${S}`):(e="log2",u.textContent="Side 1",s.style.backgroundColor=o,u.style.color=o,t=a),function(t,e){const n=document.createElement("div");n.classList=e,n.textContent=t,g.prepend(n)}(s.textContent,e),t.textContent=n("."+e),s.textContent="PAUSE"}else h&&(h=!1,s.classList.remove("gradient"),C.textContent="",s.style.backgroundColor=o,u.textContent="Side 1",p=new Date),s.textContent="00 : 00",E=new Date,I=0,b=!0,L=!0,B=setInterval(k,1e3)}));const u=document.getElementById("currentSide");u.style.color=o;const m=document.getElementById("avgSide1");m.style.color=o;const a=document.getElementById("avgSide2");a.style.color=l,document.getElementsByClassName("footer")[0].addEventListener("click",(function(){g.innerHTML='<div class="log2">00 : 10</div><div class="log1">00 : 12</div><div class="log2">00 : 04</div><div class="log1">00 : 04</div>',m.textContent=n(".log1"),a.textContent=n(".log2")}));const g=document.getElementById("logContainer"),C=document.getElementById("blinCount"),y=document.getElementById("totalTime"),f=document.getElementById("btn-inc");f.addEventListener("click",w);const v=document.getElementById("btn-dec");v.addEventListener("click",w),document.getElementById("btn-undo").addEventListener("click",w);const x=document.getElementById("btn-delete-first");let E,p,B;x.addEventListener("click",w);let I,b,L,S=0,h=!0;function k(){const n=new Date,o=Math.floor((n.getTime()-E.getTime())/1e3);s.textContent=t(o);const l=Math.trunc((n.getTime()-p.getTime())/1e3);let C,f;if(y.textContent=`${t(l)}`,"Side 1"===u.textContent?(C=e(m.textContent),f=g.getElementsByClassName("log1")[0]):(C=e(a.textContent),f=g.getElementsByClassName("log2")[0]),f){if(!(o%60))return void T(c);if(C&&o>=C){if(!(I%5))return T(i),void I++;I++}if(L&&C>15&&o>=C-15)return T(d),void(L=!1);const t=+e(f.textContent);if(b&&t&&o>=t)return T(r),void(b=!1)}}function w(o){const l=g.firstChild;if(l){if(o.target===v){let n=+e(l.textContent)-10;n<0&&(n=0),l.textContent=t(n)}else if(o.target===f){const n=+e(l.textContent)+10;l.textContent=t(n)}else o.target===x?g.lastChild.remove():l.remove();m.textContent=n(".log1"),a.textContent=n(".log2")}}function T(t){t.play()}Number.prototype.pad=function(t){for(var e=this.toString();e.length<t;e=0+e);return e}})();